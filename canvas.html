<html>
    <head>
        <script src="canvas.js"></script>
    </head>
    <body>
        <canvas id="canvas1"></canvas>
        <script>
            (function () {
                var n = 16;
                var k = 3;
                var canv = canvas('canvas1');
                canv.animateAll(
                    range(n).map(i => i/n*tau).map(i =>
                        canv.makeCircle(
                            t => pol(100 + 70*sin(t/10 + i*k), i),
                            5,
                            hsv(i/tau, 1, 1)
                        )
                    )
                );
            })();
        </script>
        <table>
            <tr><td>Kinks</td><td><input type="text" id="kinks" value="2" /></td></tr>
            <tr><td>Avg. Inner Radius</td><td><input type="text" id="avgRadiusInner" value="100" /></td></tr>
            <tr><td>Var. Inner Radius</td><td><input type="text" id="varRadiusInner" value="40" /></td></tr>
            <tr><td>Avg. Outer Radius</td><td><input type="text" id="avgRadiusOuter" value="100" /></td></tr>
            <tr><td>Var. Outer Radius</td><td><input type="text" id="varRadiusOuter" value="80" /></td></tr>
        </table>
        <canvas id="canvas2"></canvas>
        <script>
            (function () {
                var kinksInput = document.getElementById('kinks');
                var avgRadiusInnerInput = document.getElementById('avgRadiusInner');
                var varRadiusInnerInput = document.getElementById('varRadiusInner');
                var avgRadiusOuterInput = document.getElementById('avgRadiusOuter');
                var varRadiusOuterInput = document.getElementById('varRadiusOuter');
                var kinks = () => +kinksInput.value;
                var avgRadiusInner = () => +avgRadiusInnerInput.value;
                var varRadiusInner = () => +varRadiusInnerInput.value;
                var avgRadiusOuter = () => +avgRadiusOuterInput.value;
                var varRadiusOuter = () => +varRadiusOuterInput.value;

                var n = 48;
                var canv = canvas('canvas2');
                var coor1 = i => t => pol(avgRadiusInner() + varRadiusInner()*sin(t/20 + i*kinks()), i);
                var coor2 = i => t => pol(avgRadiusOuter() + varRadiusOuter()*sin(t/20 - i*kinks()), i);
                canv.animateAll(
                    range(n).map(i => i/n*tau).concatMap(i => [
                        canv.makeCircle(
                            coor1(i),
                            3,
                            '#ffffff'
                        ),
                        canv.makeCircle(
                            coor2(i),
                            3,
                            '#ffffff'
                        ),
                        canv.makeLine(
                            coor1(i),
                            coor2(i),
                            '#ffffff'
                        )
                    ])
                );
            }());
        </script>
    </body>
</html>